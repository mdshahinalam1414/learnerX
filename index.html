<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sci-Fi Temperature Tracker</title>
<meta name="description" content="Live Sci-Fi style temperature tracker with current location, time and interactive graph for the running year.">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body{
    margin:0;
    font-family:'Orbitron', sans-serif;
    background:radial-gradient(circle at top,#0a0f1a,#02020a);
    color:#00fff7;
    overflow-x:hidden;
  }
  header{
    padding:20px;
    text-align:center;
    color:#00fff7;
    text-shadow:0 0 10px #00fff7,0 0 20px #00fff7;
  }
  header h1{font-size:2.5rem;}
  #datetime{
    font-size:1.1rem;
    margin-top:5px;
    text-shadow:0 0 6px #00fff7;
  }
  main{
    max-width:1000px;
    margin:40px auto;
    padding:0 20px;
  }
  #temp{
    font-size:1.3rem;
    margin-bottom:20px;
    text-align:center;
    text-shadow:0 0 6px #ffdd00;
  }
  canvas{
    background:rgba(0,0,0,0.6);
    border-radius:15px;
    box-shadow:0 0 25px rgba(0,255,255,0.5);
  }
  footer{
    text-align:center;
    padding:20px;
    color:#00fff7;
    text-shadow:0 0 6px #00fff7;
  }
</style>
</head>
<body>

<header>
  <h1>Temperature Tracker • Sci-Fi Style</h1>
  <div id="datetime">Loading Date & Time...</div>
</header>

<main>
  <div id="temp">Loading Temperature...</div>
  <canvas id="tempChart" width="1000" height="400"></canvas>
</main>

<footer>
  © 2045 • Sci-Fi Weather Insights
</footer>

<script>
  // Update Date & Time live
  function updateDateTime(){
    const now = new Date();
    const time = now.toLocaleTimeString('en-US',{hour12:false});
    const date = now.toLocaleDateString('en-US',{weekday:'short', month:'short', day:'numeric', year:'numeric'});
    document.getElementById('datetime').innerHTML = `${date} • ${time}`;
  }
  setInterval(updateDateTime,1000);
  updateDateTime();

  // Chart.js setup
  const ctx = document.getElementById('tempChart').getContext('2d');
  const tempData = {
    labels: [], // dates
    datasets: [{
      label:'Temperature (°C)',
      data: [],
      borderColor:'#ffdd00',
      backgroundColor:'rgba(255,221,0,0.2)',
      tension:0.3,
      fill:true,
      pointRadius:3,
      pointHoverRadius:6,
    }]
  };
  const config = {
    type:'line',
    data:tempData,
    options:{
      responsive:true,
      plugins:{legend:{display:true, labels:{color:'#00fff7'}}},
      scales:{
        x:{ticks:{color:'#00fff7'}},
        y:{ticks:{color:'#00fff7'}}
      }
    }
  };
  const tempChart = new Chart(ctx,config);

  // Fetch current location temperature & add to chart
  async function fetchTemperature(){
    if(navigator.geolocation){
      navigator.geolocation.getCurrentPosition(async position=>{
        const lat = position.coords.latitude;
        const lon = position.coords.longitude;
        const apiKey = 'YOUR_OPENWEATHERMAP_API_KEY'; // <-- put your key here
        const url = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&exclude=minutely,hourly,alerts&units=metric&appid=${apiKey}`;
        const res = await fetch(url);
        const data = await res.json();
        const todayTemp = data.current.temp;
        document.getElementById('temp').innerHTML = `Current Temperature: ${todayTemp.toFixed(1)}°C`;

        // Build 1 year labels for running year (only for demo, random temp)
        const start = new Date(new Date().getFullYear(),0,1);
        for(let i=0;i<365;i++){
          const d = new Date(start);
          d.setDate(d.getDate()+i);
          tempData.labels.push(d.toLocaleDateString('en-US',{month:'short',day:'numeric'}));
          tempData.datasets[0].data.push((Math.random()*10+15).toFixed(1)); // random demo temp
        }
        tempChart.update();
      });
    }else{
      document.getElementById('temp').innerHTML = 'Geolocation not supported';
    }
  }
  fetchTemperature();
</script>

</body>
</html>
